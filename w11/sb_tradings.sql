CREATE TABLE sb.`tradings` (
  `id` bigint(20) unsigned NOT NULL,
  `place_id` smallint(5) unsigned GENERATED ALWAYS AS ((`id` DIV 100000000000000)) STORED,
  `date` date GENERATED ALWAYS AS (cast((20000000 + ((`id` DIV 100000000) % 1000000)) as date)) STORED,
  `emission_id` int(10) unsigned GENERATED ALWAYS AS ((`id` % 100000000)) STORED,
  `unique_check` varchar(20) NOT NULL DEFAULT '',
  `boardid` smallint(5) unsigned NOT NULL DEFAULT '0',
  `update_time` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `clear_price` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `buying_quote` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `selling_quote` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `last_price` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `open_price` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `max_price` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `min_price` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `avar_price` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `mid_price` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `marketprice` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `marketprice2` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `admittedquote` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `legalcloseprice` decimal(16,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `indicative_price` decimal(16,10) unsigned GENERATED ALWAYS AS ((case when (`avar_price` > 0) then `avar_price` when (`marketprice` > 0) then `marketprice` when (`legalcloseprice` > 0) then `legalcloseprice` when (`admittedquote` > 0) then `admittedquote` when (`mid_price` > 0) then `mid_price` when (`last_price` > 0) then `last_price` else NULL end)) STORED,
  `indicative_price_type` varchar(16) GENERATED ALWAYS AS ((case when (`avar_price` > 0) then _utf8mb4'Avg' when (`marketprice` > 0) then _utf8mb4'Market' when (`legalcloseprice` > 0) then _utf8mb4'Close' when (`admittedquote` > 0) then _utf8mb4'Admitted' when (`mid_price` > 0) then _utf8mb4'Mid' when (`last_price` > 0) then _utf8mb4'Last' else NULL end)) STORED,
  `clearance_profit` decimal(16,10) DEFAULT NULL,
  `offer_profit` decimal(16,10) DEFAULT NULL,
  `clearance_profit_effect` decimal(16,10) DEFAULT NULL,
  `offer_profit_effect` decimal(16,10) DEFAULT NULL,
  `coupon_profit_effect` decimal(16,10) DEFAULT NULL,
  `clearance_profit_nominal` decimal(16,10) DEFAULT NULL,
  `offer_profit_nominal` decimal(16,10) DEFAULT NULL,
  `coupon_profit_nominal` decimal(16,10) DEFAULT NULL,
  `coupon_profit` decimal(16,10) DEFAULT NULL,
  `ytm_bid` decimal(16,10) DEFAULT NULL,
  `ytm_offer` decimal(16,10) DEFAULT NULL,
  `yto_bid` decimal(16,10) DEFAULT NULL,
  `yto_offer` decimal(16,10) DEFAULT NULL,
  `ytc_bid` decimal(16,10) DEFAULT NULL,
  `ytc_offer` decimal(16,10) DEFAULT NULL,
  `ytm_last` decimal(16,10) DEFAULT NULL,
  `yto_last` decimal(16,10) DEFAULT NULL,
  `ytc_last` decimal(16,10) DEFAULT NULL,
  `ytm_close` decimal(16,10) DEFAULT NULL,
  `yto_close` decimal(16,10) DEFAULT NULL,
  `ytc_close` decimal(16,10) DEFAULT NULL,
  `ytm_open` decimal(16,10) DEFAULT NULL,
  `ytm_max` decimal(16,10) DEFAULT NULL,
  `ytm_min` decimal(16,10) DEFAULT NULL,
  `current_yield` decimal(16,10) DEFAULT NULL,
  `indicative_yield` decimal(16,10) GENERATED ALWAYS AS ((case when (`clearance_profit_effect` <> 0) then `clearance_profit_effect` when (`offer_profit_effect` <> 0) then `offer_profit_effect` when (`coupon_profit_effect` <> 0) then `coupon_profit_effect` else 0 end)) STORED,
  `indicative_yield_type` varchar(16) GENERATED ALWAYS AS ((case when (`clearance_profit_effect` <> 0) then _utf8mb4'Clearance' when (`offer_profit_effect` <> 0) then _utf8mb4'Offer' when (`coupon_profit_effect` <> 0) then _utf8mb4'Coupon' else NULL end)) STORED,
  `nkd` decimal(30,20) unsigned DEFAULT NULL,
  `offer_date` date DEFAULT NULL,
  `years_to_maturity` decimal(15,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `years_to_offert` decimal(15,10) unsigned DEFAULT NULL,
  `overturn` decimal(30,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `overturn_old` decimal(30,10) unsigned NOT NULL DEFAULT '0.0000000000',
  `volume` int(11) NOT NULL DEFAULT '0',
  `volume_money` int(11) NOT NULL DEFAULT '0',
  `agreement_number` int(11) NOT NULL DEFAULT '0',
  `agreement_number_old` int(11) NOT NULL DEFAULT '0',
  `dur` decimal(18,10) unsigned DEFAULT NULL,
  `dur_to` decimal(18,10) unsigned DEFAULT NULL,
  `duration` decimal(18,10) unsigned GENERATED ALWAYS AS (if((`dur` <> 0),`dur`,nullif(`dur_to`,0))) STORED,
  `dur_mod` decimal(15,10) DEFAULT NULL,
  `dur_mod_to` decimal(15,10) DEFAULT NULL,
  `modified_duration` decimal(15,10) GENERATED ALWAYS AS (if((`dur_mod` <> 0),`dur_mod`,nullif(`dur_mod_to`,0))) STORED,
  `dur_coupon` decimal(15,10) DEFAULT NULL,
  `pvbp` decimal(18,10) DEFAULT NULL,
  `pvbp_offer` decimal(18,10) DEFAULT NULL,
  `convexity` decimal(18,10) DEFAULT NULL,
  `convexity_offer` decimal(18,10) DEFAULT NULL,
  `g_spread` decimal(23,10) DEFAULT NULL,
  `t_spread` decimal(23,10) DEFAULT NULL,
  `t_spread_benchmark` int(11) DEFAULT NULL,
  `bid_ask_spread` decimal(23,10) GENERATED ALWAYS AS (if(((`selling_quote` <> 0) and (`buying_quote` <> 0)),((`selling_quote` - `buying_quote`) * 100),NULL)) STORED,
  PRIMARY KEY (`id`),
  KEY `pde` (`place_id`,`date`,`emission_id`),
  KEY `pdu` (`place_id`,`date`,`update_time`),
  KEY `pdi` (`place_id`,`date`,`id`),
  KEY `ped` (`place_id`,`emission_id`,`date`),
  KEY `epd` (`emission_id`,`place_id`,`date`),
  KEY `edp` (`emission_id`,`date`,`place_id`),
  KEY `dcp` (`date`,`clearance_profit`),
  KEY `dd` (`date`,`dur`),
  KEY `dvm` (`date`,`volume_money`),
  KEY `dpe` (`date`,`place_id`,`emission_id`),
  KEY `dep` (`date`,`emission_id`,`place_id`),
  KEY `du` (`date`,`update_time`),
  KEY `di` (`date`,`id`),
  KEY `dui` (`date`,`update_time`,`id`),
  KEY `update_time` (`update_time`),
  KEY `t_spread_benchmark` (`t_spread_benchmark`)
) /*!50100 TABLESPACE `innodb_file_per_table` */ ENGINE=InnoDB DEFAULT CHARSET=utf8mb4
/*!50100 PARTITION BY RANGE (`id`)
(PARTITION p1 VALUES LESS THAN (200000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p4 VALUES LESS THAN (500000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p6 VALUES LESS THAN (700000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p9 VALUES LESS THAN (1000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p10 VALUES LESS THAN (1100000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p20 VALUES LESS THAN (2100000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p25 VALUES LESS THAN (2600000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p28 VALUES LESS THAN (2900000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p29 VALUES LESS THAN (3000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p51 VALUES LESS THAN (5200000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p69 VALUES LESS THAN (7000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p71 VALUES LESS THAN (7200000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p87 VALUES LESS THAN (8800000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p109 VALUES LESS THAN (11000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p119 VALUES LESS THAN (12000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p145 VALUES LESS THAN (14600000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB,
 PARTITION p149 VALUES LESS THAN (15000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb'  ENGINE = InnoDB,
 PARTITION p199 VALUES LESS THAN (20000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb'  ENGINE = InnoDB,
 PARTITION p299 VALUES LESS THAN (30000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb'  ENGINE = InnoDB,
 PARTITION p399 VALUES LESS THAN (40000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb'  ENGINE = InnoDB,
 PARTITION p499 VALUES LESS THAN (50000000000000000) DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb'  ENGINE = InnoDB,
 PARTITION p0 VALUES LESS THAN MAXVALUE DATA DIRECTORY = '/mysql_tablespaces/sd1t/sb' ENGINE = InnoDB) */ 